actor Unauthorized User #lightgreen
participantgroup #00A2F4 **Chirp!**
participant HTML
participant CS
end
database mychirp.db #red
participant Identity

activate Unauthorized User

messagestyle <background:#white>
// Start with getting HTTPS
Unauthorized User ->  CS: HTTP Request 
activate CS
Unauthorized User <<-- CS: Redirect to HTTPS
deactivateafter CS
Unauthorized User ->  CS: HTTPS Request
activate CS

// Check authorization
CS -> Identity: Is Authorized?
activate Identity
CS <<-- Identity: Return not authorized
deactivateafter Identity

// Get Cheeps from database
CS  ->  mychirp.db: Get cheeps of page
activate mychirp.db
CS  <<-- mychirp.db: Return cheeps
deactivateafter mychirp.db

// Create page
HTML  <<-- CS: Create page
activate HTML
deactivateafter CS

// Send page to user
Unauthorized User <<-- HTML: Return page
deactivateafter HTML